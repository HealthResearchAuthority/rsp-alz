{
  "properties": {
    "lenses": [
      {
        "order": 0,
        "parts": [
          {
            "position": {
              "x": 0,
              "y": 0,
              "colSpan": 3,
              "rowSpan": 6
            },
            "metadata": {
              "inputs": [],
              "type": "Extension/HubsExtension/PartType/MarkdownPart",
              "settings": {
                "content": {
                  "content": "__My data__\n\nThis tile lets you put custom content on your dashboard. It supports plain text, __Markdown__, and even limited HTML like images <img width='10' src='https://portal.azure.com/favicon.ico'/> and <a href='https://azure.microsoft.com' target='_blank'>links</a> that open in a new tab.\n",
                  "title": "Resource Dashboard",
                  "subtitle": "My subtitle",
                  "markdownSource": 1,
                  "markdownUri": ""
                }
              },
              "partHeader": {
                "title": "Dashbord Summary",
                "subtitle": ""
              }
            }
          },
          {
            "position": {
              "x": 3,
              "y": 0,
              "colSpan": 6,
              "rowSpan": 6
            },
            "metadata": {
              "inputs": [
                {
                  "name": "chartType",
                  "isOptional": true
                },
                {
                  "name": "isShared",
                  "isOptional": true
                },
                {
                  "name": "queryId",
                  "isOptional": true
                },
                {
                  "name": "formatResults",
                  "isOptional": true
                },
                {
                  "name": "partTitle",
                  "value": "Query 1",
                  "isOptional": true
                },
                {
                  "name": "query",
                  "value": "Resources\r\n| where name contains \"TEMPLATE_ENVIRONMENT\"\r\n    or resourceGroup contains \"TEMPLATE_ENVIRONMENT\"\r\n    or tostring(id) contains \"TEMPLATE_ENVIRONMENT\"\r\n    or tostring(properties.managedEnvironmentId) contains \"TEMPLATE_ENVIRONMENT\"\r\n| summarize count() by type\r\n| order by count_ desc\r\n",
                  "isOptional": true
                },
                {
                  "name": "queryScope",
                  "value": {
                    "scope": 0,
                    "values": []
                  },
                  "isOptional": true
                }
              ],
              "type": "Extension/HubsExtension/PartType/ArgQueryGridTile",
              "settings": {},
              "partHeader": {
                "title": "Azure Resource Details",
                "subtitle": ""
              }
            }
          },
          {
            "position": {
              "x": 9,
              "y": 0,
              "colSpan": 6,
              "rowSpan": 6
            },
            "metadata": {
              "inputs": [
                {
                  "name": "partTitle",
                  "value": "Query 1",
                  "isOptional": true
                },
                {
                  "name": "query",
                  "value": "Resources\r\n| where name contains \"TEMPLATE_ENVIRONMENT\"\r\n    or resourceGroup contains \"TEMPLATE_ENVIRONMENT\"\r\n    or tostring(id) contains \"TEMPLATE_ENVIRONMENT\"\r\n    or tostring(properties.managedEnvironmentId) contains \"TEMPLATE_ENVIRONMENT\"\r\n| summarize count() by type\r\n| order by count_ desc\r\n",
                  "isOptional": true
                },
                {
                  "name": "chartType",
                  "value": 2,
                  "isOptional": true
                },
                {
                  "name": "isShared",
                  "isOptional": true
                },
                {
                  "name": "queryId",
                  "value": "",
                  "isOptional": true
                },
                {
                  "name": "formatResults",
                  "isOptional": true
                },
                {
                  "name": "queryScope",
                  "value": {
                    "scope": 0,
                    "values": []
                  },
                  "isOptional": true
                }
              ],
              "type": "Extension/HubsExtension/PartType/ArgQueryChartTile",
              "settings": {},
              "partHeader": {
                "title": "Azure Resource Summary",
                "subtitle": ""
              }
            }
          },
          {
            "position": {
              "x": 0,
              "y": 6,
              "colSpan": 2,
              "rowSpan": 8
            },
            "metadata": {
              "inputs": [],
              "type": "Extension/HubsExtension/PartType/MarkdownPart",
              "settings": {
                "content": {
                  "content": "__My data__\n\nThis tile lets you put custom content on your dashboard. It supports plain text, __Markdown__, and even limited HTML like images <img width='10' src='https://portal.azure.com/favicon.ico'/> and <a href='https://azure.microsoft.com' target='_blank'>links</a> that open in a new tab.\n",
                  "title": "Function Apps",
                  "subtitle": "My subtitle",
                  "markdownSource": 1,
                  "markdownUri": ""
                }
              }
            }
          },
          {
            "position": {
              "x": 2,
              "y": 6,
              "colSpan": 6,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "isShared",
                  "isOptional": true
                },
                {
                  "name": "queryId",
                  "isOptional": true
                },
                {
                  "name": "formatResults",
                  "isOptional": true
                },
                {
                  "name": "partTitle",
                  "value": "Query 1",
                  "isOptional": true
                },
                {
                  "name": "queryScope",
                  "value": {
                    "scope": 0,
                    "values": []
                  },
                  "isOptional": true
                },
                {
                  "name": "chartType",
                  "value": 2,
                  "isOptional": true
                },
                {
                  "name": "query",
                  "value": "Resources\n| where type =~ \"microsoft.web/sites\"\n| where kind contains \"functionapp\"\n| where name startswith \"func-\"\n| extend Environment = extract(@\"func-.*-(TEMPLATE_ENVIRONMENT|prod|manualtest|automationtest|uat)$\", 1, tolower(name))\n| extend Environment = iff(isempty(Environment), \"no-env\", Environment)\n| summarize \n    Count = count(),\n    Names = strcat_array(make_list(name), \", \")\n    by Environment\n| order by Count desc",
                  "isOptional": true
                }
              ],
              "type": "Extension/HubsExtension/PartType/ArgQueryChartTile",
              "settings": {},
              "filters": {
                "MsPortalFx_Subscription": {
                  "model": {
                    "operator": "equals",
                    "values": [
                      "TEMPLATE_SUBSCRIPTION_ID"
                    ]
                  }
                }
              },
              "partHeader": {
                "title": "Function Apps Summary",
                "subtitle": "Azure Resource Graph"
              }
            }
          },
          {
            "position": {
              "x": 8,
              "y": 6,
              "colSpan": 6,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "chartType",
                  "isOptional": true
                },
                {
                  "name": "isShared",
                  "isOptional": true
                },
                {
                  "name": "queryId",
                  "isOptional": true
                },
                {
                  "name": "formatResults",
                  "isOptional": true
                },
                {
                  "name": "partTitle",
                  "value": "Query 1",
                  "isOptional": true
                },
                {
                  "name": "query",
                  "value": "Resources\r\n| where type == \"microsoft.web/sites\"\r\n| where kind contains \"functionapp\"\r\n| where name contains \"TEMPLATE_ENVIRONMENT\" or resourceGroup contains \"TEMPLATE_ENVIRONMENT\"\r\n| project name, location, properties.state\r\n",
                  "isOptional": true
                },
                {
                  "name": "queryScope",
                  "value": {
                    "scope": 0,
                    "values": []
                  },
                  "isOptional": true
                }
              ],
              "type": "Extension/HubsExtension/PartType/ArgQueryGridTile",
              "settings": {},
              "partHeader": {
                "title": "Function Apps",
                "subtitle": "Azure Resource Graph"
              }
            }
          },
          {
            "position": {
              "x": 14,
              "y": 6,
              "colSpan": 6,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "sharedTimeRange",
                  "isOptional": true
                },
                {
                  "name": "options",
                  "value": {
                    "chart": {
                      "metrics": [
                        {
                          "resourceMetadata": {
                            "id": "/subscriptions/TEMPLATE_SUBSCRIPTION_ID/resourceGroups/TEMPLATE_RESOURCE_GROUP/providers/Microsoft.Web/sites/TEMPLATE_FUNCTION_APP_1"
                          },
                          "name": "FunctionExecutionCount",
                          "aggregationType": 1,
                          "namespace": "microsoft.web/sites",
                          "metricVisualization": {
                            "displayName": "Function Execution Count"
                          }
                        }
                      ],
                      "title": "Sum Function Execution Count for TEMPLATE_FUNCTION_APP_1",
                      "titleKind": 1,
                      "visualization": {
                        "chartType": 2,
                        "legendVisualization": {
                          "isVisible": true,
                          "position": 2,
                          "hideHoverCard": false,
                          "hideLabelNames": true
                        },
                        "axisVisualization": {
                          "x": {
                            "isVisible": true,
                            "axisType": 2
                          },
                          "y": {
                            "isVisible": true,
                            "axisType": 1
                          }
                        }
                      },
                      "timespan": {
                        "relative": {
                          "duration": 86400000
                        },
                        "showUTCTime": false,
                        "grain": 1
                      }
                    }
                  },
                  "isOptional": true
                }
              ],
              "type": "Extension/HubsExtension/PartType/MonitorChartPart",
              "settings": {
                "content": {
                  "options": {
                    "chart": {
                      "metrics": [
                        {
                          "resourceMetadata": {
                            "id": "/subscriptions/TEMPLATE_SUBSCRIPTION_ID/resourceGroups/TEMPLATE_RESOURCE_GROUP/providers/Microsoft.Web/sites/TEMPLATE_FUNCTION_APP_1"
                          },
                          "name": "FunctionExecutionCount",
                          "aggregationType": 1,
                          "namespace": "microsoft.web/sites",
                          "metricVisualization": {
                            "displayName": "Function Execution Count"
                          }
                        }
                      ],
                      "title": "Function Execution Count for TEMPLATE_FUNCTION_APP_1",
                      "titleKind": 2,
                      "visualization": {
                        "chartType": 2,
                        "legendVisualization": {
                          "isVisible": true,
                          "position": 2,
                          "hideHoverCard": false,
                          "hideLabelNames": true
                        },
                        "axisVisualization": {
                          "x": {
                            "isVisible": true,
                            "axisType": 2
                          },
                          "y": {
                            "isVisible": true,
                            "axisType": 1
                          }
                        },
                        "disablePinning": true
                      }
                    }
                  }
                }
              }
            }
          },
          {
            "position": {
              "x": 2,
              "y": 10,
              "colSpan": 6,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "sharedTimeRange",
                  "isOptional": true
                },
                {
                  "name": "options",
                  "value": {
                    "chart": {
                      "metrics": [
                        {
                          "resourceMetadata": {
                            "id": "/subscriptions/TEMPLATE_SUBSCRIPTION_ID/resourceGroups/TEMPLATE_RESOURCE_GROUP/providers/Microsoft.Web/sites/TEMPLATE_FUNCTION_APP_1"
                          },
                          "name": "Http5xx",
                          "aggregationType": 1,
                          "namespace": "microsoft.web/sites",
                          "metricVisualization": {
                            "displayName": "Http Server Errors"
                          }
                        }
                      ],
                      "title": "Sum Http Server Errors for TEMPLATE_FUNCTION_APP_1",
                      "titleKind": 1,
                      "visualization": {
                        "chartType": 2,
                        "legendVisualization": {
                          "isVisible": true,
                          "position": 2,
                          "hideHoverCard": false,
                          "hideLabelNames": true
                        },
                        "axisVisualization": {
                          "x": {
                            "isVisible": true,
                            "axisType": 2
                          },
                          "y": {
                            "isVisible": true,
                            "axisType": 1
                          }
                        }
                      },
                      "timespan": {
                        "relative": {
                          "duration": 86400000
                        },
                        "showUTCTime": false,
                        "grain": 1
                      }
                    }
                  },
                  "isOptional": true
                }
              ],
              "type": "Extension/HubsExtension/PartType/MonitorChartPart",
              "settings": {
                "content": {
                  "options": {
                    "chart": {
                      "metrics": [
                        {
                          "resourceMetadata": {
                            "id": "/subscriptions/TEMPLATE_SUBSCRIPTION_ID/resourceGroups/TEMPLATE_RESOURCE_GROUP/providers/Microsoft.Web/sites/TEMPLATE_FUNCTION_APP_1"
                          },
                          "name": "Http5xx",
                          "aggregationType": 1,
                          "namespace": "microsoft.web/sites",
                          "metricVisualization": {
                            "displayName": "Http Server Errors"
                          }
                        }
                      ],
                      "title": "Http Server Errors for TEMPLATE_FUNCTION_APP_1",
                      "titleKind": 2,
                      "visualization": {
                        "chartType": 2,
                        "legendVisualization": {
                          "isVisible": true,
                          "position": 2,
                          "hideHoverCard": false,
                          "hideLabelNames": true
                        },
                        "axisVisualization": {
                          "x": {
                            "isVisible": true,
                            "axisType": 2
                          },
                          "y": {
                            "isVisible": true,
                            "axisType": 1
                          }
                        },
                        "disablePinning": true
                      }
                    }
                  }
                }
              },
              "filters": {
                "MsPortalFx_TimeRange": {
                  "model": {
                    "format": "local",
                    "granularity": "auto",
                    "relative": "1440m"
                  }
                }
              }
            }
          },
          {
            "position": {
              "x": 8,
              "y": 10,
              "colSpan": 6,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "sharedTimeRange",
                  "isOptional": true
                },
                {
                  "name": "options",
                  "value": {
                    "chart": {
                      "metrics": [
                        {
                          "resourceMetadata": {
                            "id": "/subscriptions/TEMPLATE_SUBSCRIPTION_ID/resourceGroups/TEMPLATE_RESOURCE_GROUP/providers/Microsoft.Web/sites/TEMPLATE_FUNCTION_APP_2"
                          },
                          "name": "Http5xx",
                          "aggregationType": 1,
                          "namespace": "microsoft.web/sites",
                          "metricVisualization": {
                            "displayName": "Http Server Errors"
                          }
                        }
                      ],
                      "title": "Sum Http Server Errors for TEMPLATE_FUNCTION_APP_2",
                      "titleKind": 1,
                      "visualization": {
                        "chartType": 2,
                        "legendVisualization": {
                          "isVisible": true,
                          "position": 2,
                          "hideHoverCard": false,
                          "hideLabelNames": true
                        },
                        "axisVisualization": {
                          "x": {
                            "isVisible": true,
                            "axisType": 2
                          },
                          "y": {
                            "isVisible": true,
                            "axisType": 1
                          }
                        }
                      },
                      "timespan": {
                        "relative": {
                          "duration": 86400000
                        },
                        "showUTCTime": false,
                        "grain": 1
                      }
                    }
                  },
                  "isOptional": true
                }
              ],
              "type": "Extension/HubsExtension/PartType/MonitorChartPart",
              "settings": {
                "content": {
                  "options": {
                    "chart": {
                      "metrics": [
                        {
                          "resourceMetadata": {
                            "id": "/subscriptions/TEMPLATE_SUBSCRIPTION_ID/resourceGroups/TEMPLATE_RESOURCE_GROUP/providers/Microsoft.Web/sites/TEMPLATE_FUNCTION_APP_2"
                          },
                          "name": "Http5xx",
                          "aggregationType": 1,
                          "namespace": "microsoft.web/sites",
                          "metricVisualization": {
                            "displayName": "Http Server Errors"
                          }
                        }
                      ],
                      "title": "Http Server Errors for TEMPLATE_FUNCTION_APP_2",
                      "titleKind": 2,
                      "visualization": {
                        "chartType": 2,
                        "legendVisualization": {
                          "isVisible": true,
                          "position": 2,
                          "hideHoverCard": false,
                          "hideLabelNames": true
                        },
                        "axisVisualization": {
                          "x": {
                            "isVisible": true,
                            "axisType": 2
                          },
                          "y": {
                            "isVisible": true,
                            "axisType": 1
                          }
                        },
                        "disablePinning": true
                      }
                    }
                  }
                }
              }
            }
          },
          {
            "position": {
              "x": 14,
              "y": 10,
              "colSpan": 6,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "sharedTimeRange",
                  "isOptional": true
                },
                {
                  "name": "options",
                  "value": {
                    "chart": {
                      "metrics": [
                        {
                          "resourceMetadata": {
                            "id": "/subscriptions/TEMPLATE_SUBSCRIPTION_ID/resourceGroups/TEMPLATE_RESOURCE_GROUP/providers/Microsoft.Web/sites/TEMPLATE_FUNCTION_APP_2"
                          },
                          "name": "FunctionExecutionCount",
                          "aggregationType": 1,
                          "namespace": "microsoft.web/sites",
                          "metricVisualization": {
                            "displayName": "Function Execution Count"
                          }
                        }
                      ],
                      "title": "Sum Function Execution Count for TEMPLATE_FUNCTION_APP_2",
                      "titleKind": 1,
                      "visualization": {
                        "chartType": 2,
                        "legendVisualization": {
                          "isVisible": true,
                          "position": 2,
                          "hideHoverCard": false,
                          "hideLabelNames": true
                        },
                        "axisVisualization": {
                          "x": {
                            "isVisible": true,
                            "axisType": 2
                          },
                          "y": {
                            "isVisible": true,
                            "axisType": 1
                          }
                        }
                      },
                      "timespan": {
                        "relative": {
                          "duration": 86400000
                        },
                        "showUTCTime": false,
                        "grain": 1
                      }
                    }
                  },
                  "isOptional": true
                }
              ],
              "type": "Extension/HubsExtension/PartType/MonitorChartPart",
              "settings": {
                "content": {
                  "options": {
                    "chart": {
                      "metrics": [
                        {
                          "resourceMetadata": {
                            "id": "/subscriptions/TEMPLATE_SUBSCRIPTION_ID/resourceGroups/TEMPLATE_RESOURCE_GROUP/providers/Microsoft.Web/sites/TEMPLATE_FUNCTION_APP_2"
                          },
                          "name": "FunctionExecutionCount",
                          "aggregationType": 1,
                          "namespace": "microsoft.web/sites",
                          "metricVisualization": {
                            "displayName": "Function Execution Count"
                          }
                        }
                      ],
                      "title": "Function Execution Count for TEMPLATE_FUNCTION_APP_2",
                      "titleKind": 2,
                      "visualization": {
                        "chartType": 2,
                        "legendVisualization": {
                          "isVisible": true,
                          "position": 2,
                          "hideHoverCard": false,
                          "hideLabelNames": true
                        },
                        "axisVisualization": {
                          "x": {
                            "isVisible": true,
                            "axisType": 2
                          },
                          "y": {
                            "isVisible": true,
                            "axisType": 1
                          }
                        },
                        "disablePinning": true
                      }
                    }
                  }
                }
              }
            }
          },
          {
            "position": {
              "x": 0,
              "y": 14,
              "colSpan": 2,
              "rowSpan": 8
            },
            "metadata": {
              "inputs": [],
              "type": "Extension/HubsExtension/PartType/MarkdownPart",
              "settings": {
                "content": {
                  "content": "__My data__\n\nThis tile lets you put custom content on your dashboard. It supports plain text, __Markdown__, and even limited HTML like images <img width='10' src='https://portal.azure.com/favicon.ico'/> and <a href='https://azure.microsoft.com' target='_blank'>links</a> that open in a new tab.\n",
                  "title": "Frontdoor Profiles",
                  "subtitle": "My subtitle",
                  "markdownSource": 1,
                  "markdownUri": ""
                }
              }
            }
          },
          {
            "position": {
              "x": 2,
              "y": 14,
              "colSpan": 6,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "partTitle",
                  "value": "Query 1",
                  "isOptional": true
                },
                {
                  "name": "query",
                  "value": "Resources\r\n| where type == \"microsoft.cdn/profiles\"\r\n| where name contains \"TEMPLATE_ENVIRONMENT\" or resourceGroup contains \"TEMPLATE_ENVIRONMENT\"\r\n| summarize count() by tostring(properties.resourceState)\r\n| order by count_ desc\r\n\r\n\r\n\r\n",
                  "isOptional": true
                },
                {
                  "name": "chartType",
                  "value": 2,
                  "isOptional": true
                },
                {
                  "name": "isShared",
                  "isOptional": true
                },
                {
                  "name": "queryId",
                  "value": "",
                  "isOptional": true
                },
                {
                  "name": "formatResults",
                  "isOptional": true
                },
                {
                  "name": "queryScope",
                  "value": {
                    "scope": 0,
                    "values": []
                  },
                  "isOptional": true
                }
              ],
              "type": "Extension/HubsExtension/PartType/ArgQueryChartTile",
              "settings": {},
              "filters": {
                "MsPortalFx_Subscription": {
                  "model": {
                    "operator": "equals",
                    "values": [
                      "TEMPLATE_SUBSCRIPTION_ID"
                    ]
                  }
                }
              },
              "partHeader": {
                "title": "Azure Frontdoor",
                "subtitle": "Azure Resource Graph"
              }
            }
          },
          {
            "position": {
              "x": 8,
              "y": 14,
              "colSpan": 6,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "sharedTimeRange",
                  "isOptional": true
                },
                {
                  "name": "options",
                  "value": {
                    "chart": {
                      "metrics": [
                        {
                          "resourceMetadata": {
                            "id": "/subscriptions/TEMPLATE_SUBSCRIPTION_ID/resourceGroups/TEMPLATE_RESOURCE_GROUP/providers/Microsoft.Cdn/profiles/TEMPLATE_FRONTDOOR_PROFILE"
                          },
                          "name": "OriginHealthPercentage",
                          "aggregationType": 4,
                          "namespace": "microsoft.cdn/profiles",
                          "metricVisualization": {
                            "displayName": "Origin Health Percentage"
                          }
                        }
                      ],
                      "title": "Avg Origin Health Percentage for TEMPLATE_FRONTDOOR_PROFILE where OriginGroup = 'TEMPLATE_ORIGIN_GROUP_1', 'TEMPLATE_ORIGIN_GROUP_2'",
                      "titleKind": 1,
                      "visualization": {
                        "chartType": 2,
                        "legendVisualization": {
                          "isVisible": true,
                          "position": 2,
                          "hideHoverCard": false,
                          "hideLabelNames": true
                        },
                        "axisVisualization": {
                          "x": {
                            "isVisible": true,
                            "axisType": 2
                          },
                          "y": {
                            "isVisible": true,
                            "axisType": 1
                          }
                        }
                      },
                      "filterCollection": {
                        "filters": [
                          {
                            "key": "OriginGroup",
                            "operator": 0,
                            "values": [
                              "TEMPLATE_ORIGIN_GROUP_1",
                              "TEMPLATE_ORIGIN_GROUP_2"
                            ]
                          }
                        ]
                      },
                      "timespan": {
                        "relative": {
                          "duration": 86400000
                        },
                        "showUTCTime": false,
                        "grain": 1
                      }
                    }
                  },
                  "isOptional": true
                }
              ],
              "type": "Extension/HubsExtension/PartType/MonitorChartPart",
              "settings": {
                "content": {
                  "options": {
                    "chart": {
                      "metrics": [
                        {
                          "resourceMetadata": {
                            "id": "/subscriptions/TEMPLATE_SUBSCRIPTION_ID/resourceGroups/TEMPLATE_RESOURCE_GROUP/providers/Microsoft.Cdn/profiles/TEMPLATE_FRONTDOOR_PROFILE"
                          },
                          "name": "OriginRequestCount",
                          "aggregationType": 7,
                          "namespace": "microsoft.cdn/profiles",
                          "metricVisualization": {
                            "displayName": "Origin Request Count"
                          }
                        }
                      ],
                      "title": "FrontDoor Origin Requests",
                      "titleKind": 2,
                      "visualization": {
                        "chartType": 2,
                        "legendVisualization": {
                          "isVisible": true,
                          "position": 2,
                          "hideHoverCard": false,
                          "hideLabelNames": true
                        },
                        "axisVisualization": {
                          "x": {
                            "isVisible": true,
                            "axisType": 2
                          },
                          "y": {
                            "isVisible": true,
                            "axisType": 1
                          }
                        },
                        "disablePinning": true
                      }
                    }
                  }
                }
              }
            }
          },
          {
            "position": {
              "x": 14,
              "y": 14,
              "colSpan": 6,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "sharedTimeRange",
                  "isOptional": true
                },
                {
                  "name": "options",
                  "value": {
                    "chart": {
                      "metrics": [
                        {
                          "resourceMetadata": {
                            "id": "/subscriptions/TEMPLATE_SUBSCRIPTION_ID/resourceGroups/TEMPLATE_RESOURCE_GROUP/providers/Microsoft.Cdn/profiles/TEMPLATE_FRONTDOOR_PROFILE"
                          },
                          "name": "Percentage5XX",
                          "aggregationType": 7,
                          "namespace": "microsoft.cdn/profiles",
                          "metricVisualization": {
                            "displayName": "Percentage of 5XX"
                          }
                        }
                      ],
                      "title": "Count Percentage of 5XX for TEMPLATE_FRONTDOOR_PROFILE where Endpoint = 'TEMPLATE_FRONTDOOR_ENDPOINT'",
                      "titleKind": 1,
                      "visualization": {
                        "chartType": 2,
                        "legendVisualization": {
                          "isVisible": true,
                          "position": 2,
                          "hideHoverCard": false,
                          "hideLabelNames": true
                        },
                        "axisVisualization": {
                          "x": {
                            "isVisible": true,
                            "axisType": 2
                          },
                          "y": {
                            "isVisible": true,
                            "axisType": 1
                          }
                        }
                      },
                      "filterCollection": {
                        "filters": [
                          {
                            "key": "Endpoint",
                            "operator": 0,
                            "values": [
                              "TEMPLATE_FRONTDOOR_ENDPOINT"
                            ]
                          }
                        ]
                      },
                      "timespan": {
                        "relative": {
                          "duration": 86400000
                        },
                        "showUTCTime": false,
                        "grain": 1
                      }
                    }
                  },
                  "isOptional": true
                }
              ],
              "type": "Extension/HubsExtension/PartType/MonitorChartPart",
              "settings": {
                "content": {
                  "options": {
                    "chart": {
                      "metrics": [
                        {
                          "resourceMetadata": {
                            "id": "/subscriptions/TEMPLATE_SUBSCRIPTION_ID/resourceGroups/TEMPLATE_RESOURCE_GROUP/providers/Microsoft.Cdn/profiles/TEMPLATE_FRONTDOOR_PROFILE"
                          },
                          "name": "Percentage5XX",
                          "aggregationType": 7,
                          "namespace": "microsoft.cdn/profiles",
                          "metricVisualization": {
                            "displayName": "Percentage of 5XX"
                          }
                        }
                      ],
                      "title": "FrontDoor 5XX Request Errors",
                      "titleKind": 2,
                      "visualization": {
                        "chartType": 2,
                        "legendVisualization": {
                          "isVisible": true,
                          "position": 2,
                          "hideHoverCard": false,
                          "hideLabelNames": true
                        },
                        "axisVisualization": {
                          "x": {
                            "isVisible": true,
                            "axisType": 2
                          },
                          "y": {
                            "isVisible": true,
                            "axisType": 1
                          }
                        },
                        "disablePinning": true
                      }
                    }
                  }
                }
              },
              "filters": {
                "Endpoint": {
                  "model": {
                    "operator": "equals",
                    "values": [
                      "TEMPLATE_FRONTDOOR_ENDPOINT"
                    ]
                  }
                }
              }
            }
          },
          {
            "position": {
              "x": 2,
              "y": 18,
              "colSpan": 6,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "chartType",
                  "isOptional": true
                },
                {
                  "name": "isShared",
                  "isOptional": true
                },
                {
                  "name": "queryId",
                  "isOptional": true
                },
                {
                  "name": "partTitle",
                  "value": "Query 1",
                  "isOptional": true
                },
                {
                  "name": "queryScope",
                  "value": {
                    "scope": 0,
                    "values": []
                  },
                  "isOptional": true
                },
                {
                  "name": "formatResults",
                  "value": true,
                  "isOptional": true
                },
                {
                  "name": "query",
                  "value": "Resources\r\n| where type == \"microsoft.cdn/profiles/afdendpoints\"\r\n| where name contains \"TEMPLATE_ENVIRONMENT\" or resourceGroup contains \"TEMPLATE_ENVIRONMENT\"\r\n| extend origins = properties.origins\r\n| mv-expand origins\r\n| project\r\n    profile = tostring(split(id, \"/\")[8]),\r\n    endpointName = name,\r\n    originName = tostring(origins.name),\r\n    originHostName = origins.properties.hostName,\r\n    enabledState = tostring(origins.properties.enabledState),\r\n    resourceGroup\r\n| order by profile, endpointName, originName asc",
                  "isOptional": true
                }
              ],
              "type": "Extension/HubsExtension/PartType/ArgQueryGridTile",
              "settings": {},
              "partHeader": {
                "title": "Azure Frontdoor Origins",
                "subtitle": ""
              }
            }
          },
          {
            "position": {
              "x": 8,
              "y": 18,
              "colSpan": 6,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "sharedTimeRange",
                  "isOptional": true
                },
                {
                  "name": "options",
                  "value": {
                    "chart": {
                      "metrics": [
                        {
                          "resourceMetadata": {
                            "id": "/subscriptions/TEMPLATE_SUBSCRIPTION_ID/resourceGroups/TEMPLATE_RESOURCE_GROUP/providers/Microsoft.Cdn/profiles/TEMPLATE_FRONTDOOR_PROFILE"
                          },
                          "name": "RequestCount",
                          "aggregationType": 7,
                          "namespace": "microsoft.cdn/profiles",
                          "metricVisualization": {
                            "displayName": "Request Count"
                          }
                        }
                      ],
                      "title": "Count Request Count for TEMPLATE_FRONTDOOR_PROFILE where Endpoint = 'TEMPLATE_FRONTDOOR_ENDPOINT'",
                      "titleKind": 1,
                      "visualization": {
                        "chartType": 2,
                        "legendVisualization": {
                          "isVisible": true,
                          "position": 2,
                          "hideHoverCard": false,
                          "hideLabelNames": true
                        },
                        "axisVisualization": {
                          "x": {
                            "isVisible": true,
                            "axisType": 2
                          },
                          "y": {
                            "isVisible": true,
                            "axisType": 1
                          }
                        }
                      },
                      "filterCollection": {
                        "filters": [
                          {
                            "key": "Endpoint",
                            "operator": 0,
                            "values": [
                              "TEMPLATE_FRONTDOOR_ENDPOINT"
                            ]
                          }
                        ]
                      },
                      "timespan": {
                        "relative": {
                          "duration": 86400000
                        },
                        "showUTCTime": false,
                        "grain": 1
                      }
                    }
                  },
                  "isOptional": true
                }
              ],
              "type": "Extension/HubsExtension/PartType/MonitorChartPart",
              "settings": {
                "content": {
                  "options": {
                    "chart": {
                      "metrics": [
                        {
                          "resourceMetadata": {
                            "id": "/subscriptions/TEMPLATE_SUBSCRIPTION_ID/resourceGroups/TEMPLATE_RESOURCE_GROUP/providers/Microsoft.Cdn/profiles/TEMPLATE_FRONTDOOR_PROFILE"
                          },
                          "name": "RequestCount",
                          "aggregationType": 7,
                          "namespace": "microsoft.cdn/profiles",
                          "metricVisualization": {
                            "displayName": "Request Count"
                          }
                        }
                      ],
                      "title": "FrontDoor Requests Count",
                      "titleKind": 2,
                      "visualization": {
                        "chartType": 2,
                        "legendVisualization": {
                          "isVisible": true,
                          "position": 2,
                          "hideHoverCard": false,
                          "hideLabelNames": true
                        },
                        "axisVisualization": {
                          "x": {
                            "isVisible": true,
                            "axisType": 2
                          },
                          "y": {
                            "isVisible": true,
                            "axisType": 1
                          }
                        },
                        "disablePinning": true
                      }
                    }
                  }
                }
              }
            }
          },
          {
            "position": {
              "x": 14,
              "y": 18,
              "colSpan": 6,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "chartType",
                  "isOptional": true
                },
                {
                  "name": "isShared",
                  "isOptional": true
                },
                {
                  "name": "queryId",
                  "isOptional": true
                },
                {
                  "name": "formatResults",
                  "isOptional": true
                },
                {
                  "name": "partTitle",
                  "value": "Query 1",
                  "isOptional": true
                },
                {
                  "name": "query",
                  "value": "Resources\r\n| where type == \"microsoft.cdn/profiles\"\r\n| where name contains \"TEMPLATE_ENVIRONMENT\" or resourceGroup contains \"TEMPLATE_ENVIRONMENT\"\r\n| project name, location, properties.resourceState",
                  "isOptional": true
                },
                {
                  "name": "queryScope",
                  "value": {
                    "scope": 0,
                    "values": []
                  },
                  "isOptional": true
                }
              ],
              "type": "Extension/HubsExtension/PartType/ArgQueryGridTile",
              "settings": {},
              "partHeader": {
                "title": "Azure Frontdoor Summary",
                "subtitle": "Azure Resource Graph"
              }
            }
          },
          {
            "position": {
              "x": 0,
              "y": 22,
              "colSpan": 2,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [],
              "type": "Extension/HubsExtension/PartType/MarkdownPart",
              "settings": {
                "content": {
                  "content": "__My data__\n\nThis tile lets you put custom content on your dashboard. It supports plain text, __Markdown__, and even limited HTML like images <img width='10' src='https://portal.azure.com/favicon.ico'/> and <a href='https://azure.microsoft.com' target='_blank'>links</a> that open in a new tab.\n",
                  "title": "My title",
                  "subtitle": "My subtitle",
                  "markdownSource": 1,
                  "markdownUri": ""
                }
              },
              "partHeader": {
                "title": "Database Summary",
                "subtitle": ""
              }
            }
          },
          {
            "position": {
              "x": 2,
              "y": 22,
              "colSpan": 6,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "chartType",
                  "isOptional": true
                },
                {
                  "name": "isShared",
                  "isOptional": true
                },
                {
                  "name": "queryId",
                  "isOptional": true
                },
                {
                  "name": "formatResults",
                  "isOptional": true
                },
                {
                  "name": "partTitle",
                  "value": "Query 1",
                  "isOptional": true
                },
                {
                  "name": "query",
                  "value": "Resources\r\n| where type == \"microsoft.sql/servers/databases\"\r\n| where name != \"master\"\r\n| where name contains \"TEMPLATE_ENVIRONMENT\"\r\n    or resourceGroup contains \"TEMPLATE_ENVIRONMENT\"\r\n    or tostring(id) contains \"TEMPLATE_ENVIRONMENT\"\r\n| project name, type, location, resourceGroup, properties.status\r\n",
                  "isOptional": true
                },
                {
                  "name": "queryScope",
                  "value": {
                    "scope": 0,
                    "values": []
                  },
                  "isOptional": true
                }
              ],
              "type": "Extension/HubsExtension/PartType/ArgQueryGridTile",
              "settings": {},
              "partHeader": {
                "title": "SQL Databases",
                "subtitle": "AzureResourceGraph"
              }
            }
          },
          {
            "position": {
              "x": 8,
              "y": 22,
              "colSpan": 6,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "options",
                  "value": {
                    "chart": {
                      "metrics": [
                        {
                          "resourceMetadata": {
                            "region": "uksouth",
                            "resourceType": "microsoft.sql/servers/databases",
                            "subscription": {
                              "subscriptionId": "TEMPLATE_SUBSCRIPTION_ID",
                              "displayName": "TEMPLATE_SUBSCRIPTION_NAME",
                              "uniqueDisplayName": "TEMPLATE_SUBSCRIPTION_NAME"
                            }
                          },
                          "name": "allocated_data_storage",
                          "aggregationType": 3,
                          "namespace": "microsoft.sql/servers/databases",
                          "metricVisualization": {
                            "displayName": "Data space allocated",
                            "resourceDisplayName": "TEMPLATE_SUBSCRIPTION_NAME"
                          }
                        }
                      ],
                      "title": "Data space allocated for SQL Databases",
                      "titleKind": 2,
                      "visualization": {
                        "chartType": 2,
                        "legendVisualization": {
                          "isVisible": true,
                          "position": 2,
                          "hideHoverCard": false,
                          "hideLabelNames": true
                        },
                        "axisVisualization": {
                          "x": {
                            "isVisible": true,
                            "axisType": 2
                          },
                          "y": {
                            "isVisible": true,
                            "axisType": 1
                          }
                        }
                      },
                      "grouping": {
                        "dimension": "Microsoft.ResourceId"
                      },
                      "timespan": {
                        "relative": {
                          "duration": 86400000
                        },
                        "showUTCTime": false,
                        "grain": 1
                      }
                    }
                  },
                  "isOptional": true
                },
                {
                  "name": "sharedTimeRange",
                  "isOptional": true
                }
              ],
              "type": "Extension/HubsExtension/PartType/MonitorChartPart",
              "settings": {
                "content": {
                  "options": {
                    "chart": {
                      "metrics": [
                        {
                          "resourceMetadata": {
                            "region": "uksouth",
                            "resourceType": "microsoft.sql/servers/databases",
                            "subscription": {
                              "subscriptionId": "TEMPLATE_SUBSCRIPTION_ID",
                              "displayName": "TEMPLATE_SUBSCRIPTION_NAME",
                              "uniqueDisplayName": "TEMPLATE_SUBSCRIPTION_NAME"
                            }
                          },
                          "name": "allocated_data_storage",
                          "aggregationType": 3,
                          "namespace": "microsoft.sql/servers/databases",
                          "metricVisualization": {
                            "displayName": "Data space allocated",
                            "resourceDisplayName": "TEMPLATE_SUBSCRIPTION_NAME"
                          }
                        },
                        {
                          "resourceMetadata": {
                            "region": "uksouth",
                            "resourceType": "microsoft.sql/servers/databases",
                            "subscription": {
                              "subscriptionId": "TEMPLATE_SUBSCRIPTION_ID",
                              "displayName": "TEMPLATE_SUBSCRIPTION_NAME",
                              "uniqueDisplayName": "TEMPLATE_SUBSCRIPTION_NAME"
                            }
                          },
                          "name": "storage",
                          "aggregationType": 3,
                          "namespace": "microsoft.sql/servers/databases",
                          "metricVisualization": {
                            "displayName": "Data space used",
                            "resourceDisplayName": "TEMPLATE_SUBSCRIPTION_NAME"
                          }
                        }
                      ],
                      "title": "Data space information for SQL Databases",
                      "titleKind": 2,
                      "visualization": {
                        "chartType": 2,
                        "legendVisualization": {
                          "isVisible": true,
                          "position": 2,
                          "hideHoverCard": false,
                          "hideLabelNames": true
                        },
                        "axisVisualization": {
                          "x": {
                            "isVisible": true,
                            "axisType": 2
                          },
                          "y": {
                            "isVisible": true,
                            "axisType": 1
                          }
                        },
                        "disablePinning": true
                      },
                      "grouping": {
                        "dimension": "Microsoft.ResourceId",
                        "sort": 1,
                        "top": 10
                      }
                    }
                  }
                }
              },
              "filters": {
                "MsPortalFx_TimeRange": {
                  "model": {
                    "format": "local",
                    "granularity": "auto",
                    "relative": "1440m"
                  }
                }
              }
            }
          },
          {
            "position": {
              "x": 14,
              "y": 22,
              "colSpan": 6,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "options",
                  "value": {
                    "chart": {
                      "metrics": [
                        {
                          "resourceMetadata": {
                            "region": "uksouth",
                            "resourceType": "microsoft.sql/servers/databases",
                            "subscription": {
                              "subscriptionId": "TEMPLATE_SUBSCRIPTION_ID",
                              "displayName": "TEMPLATE_SUBSCRIPTION_NAME",
                              "uniqueDisplayName": "TEMPLATE_SUBSCRIPTION_NAME"
                            }
                          },
                          "name": "connection_failed_user_error",
                          "aggregationType": 1,
                          "namespace": "microsoft.sql/servers/databases",
                          "metricVisualization": {
                            "displayName": "Failed Connections : User Errors",
                            "resourceDisplayName": "TEMPLATE_SUBSCRIPTION_NAME"
                          }
                        }
                      ],
                      "title": "Database Failed Connections",
                      "titleKind": 2,
                      "visualization": {
                        "chartType": 2,
                        "legendVisualization": {
                          "isVisible": true,
                          "position": 2,
                          "hideHoverCard": false,
                          "hideLabelNames": true
                        },
                        "axisVisualization": {
                          "x": {
                            "isVisible": true,
                            "axisType": 2
                          },
                          "y": {
                            "isVisible": true,
                            "axisType": 1
                          }
                        }
                      },
                      "filterCollection": {
                        "filters": [
                          {
                            "key": "Microsoft.ResourceId",
                            "operator": 1,
                            "values": [
                              "TEMPLATE_MASTER_DATABASE_FILTER"
                            ]
                          }
                        ]
                      },
                      "timespan": {
                        "relative": {
                          "duration": 86400000
                        },
                        "showUTCTime": false,
                        "grain": 1
                      }
                    }
                  },
                  "isOptional": true
                },
                {
                  "name": "sharedTimeRange",
                  "isOptional": true
                }
              ],
              "type": "Extension/HubsExtension/PartType/MonitorChartPart",
              "settings": {
                "content": {
                  "options": {
                    "chart": {
                      "metrics": [
                        {
                          "resourceMetadata": {
                            "region": "uksouth",
                            "resourceType": "microsoft.sql/servers/databases",
                            "subscription": {
                              "subscriptionId": "TEMPLATE_SUBSCRIPTION_ID",
                              "displayName": "TEMPLATE_SUBSCRIPTION_NAME",
                              "uniqueDisplayName": "TEMPLATE_SUBSCRIPTION_NAME"
                            }
                          },
                          "name": "connection_failed_user_error",
                          "aggregationType": 1,
                          "namespace": "microsoft.sql/servers/databases",
                          "metricVisualization": {
                            "displayName": "Failed Connections : User Errors",
                            "resourceDisplayName": "TEMPLATE_SUBSCRIPTION_NAME"
                          }
                        }
                      ],
                      "title": "Database Failed Connections",
                      "titleKind": 2,
                      "visualization": {
                        "chartType": 2,
                        "legendVisualization": {
                          "isVisible": true,
                          "position": 2,
                          "hideHoverCard": false,
                          "hideLabelNames": true
                        },
                        "axisVisualization": {
                          "x": {
                            "isVisible": true,
                            "axisType": 2
                          },
                          "y": {
                            "isVisible": true,
                            "axisType": 1
                          }
                        },
                        "disablePinning": true
                      }
                    }
                  }
                }
              },
              "filters": {
                "Microsoft.ResourceId": {
                  "model": {
                    "operator": "notEquals",
                    "values": [
                      "TEMPLATE_MASTER_DATABASE_FILTER"
                    ]
                  }
                },
                "MsPortalFx_TimeRange": {
                  "model": {
                    "format": "local",
                    "granularity": "auto",
                    "relative": "1440m"
                  }
                }
              }
            }
          },
          {
            "position": {
              "x": 0,
              "y": 26,
              "colSpan": 8,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "chartType",
                  "isOptional": true
                },
                {
                  "name": "isShared",
                  "isOptional": true
                },
                {
                  "name": "queryId",
                  "isOptional": true
                },
                {
                  "name": "formatResults",
                  "isOptional": true
                },
                {
                  "name": "partTitle",
                  "value": "Query 1",
                  "isOptional": true
                },
                {
                  "name": "query",
                  "value": "Resources\r\n| where type == \"microsoft.web/sites\"\r\n| where name contains \"TEMPLATE_ENVIRONMENT\" or resourceGroup contains \"TEMPLATE_ENVIRONMENT\"\r\n| project name, location, properties.state, kind",
                  "isOptional": true
                },
                {
                  "name": "queryScope",
                  "value": {
                    "scope": 0,
                    "values": []
                  },
                  "isOptional": true
                }
              ],
              "type": "Extension/HubsExtension/PartType/ArgQueryGridTile",
              "settings": {},
              "partHeader": {
                "title": "App Services",
                "subtitle": "Azure Resource Graph"
              }
            }
          },
          {
            "position": {
              "x": 8,
              "y": 26,
              "colSpan": 6,
              "rowSpan": 4
            },
            "metadata": {
              "inputs": [
                {
                  "name": "chartType",
                  "isOptional": true
                },
                {
                  "name": "isShared",
                  "isOptional": true
                },
                {
                  "name": "queryId",
                  "isOptional": true
                },
                {
                  "name": "formatResults",
                  "isOptional": true
                },
                {
                  "name": "partTitle",
                  "value": "Query 1",
                  "isOptional": true
                },
                {
                  "name": "query",
                  "value": "Resources\r\n| where type == \"microsoft.app/containerapps\"\r\n| where tostring(properties.managedEnvironmentId) contains \"TEMPLATE_ENVIRONMENT\"\r\n| project name, type, location, resourceGroup, properties.provisioningState",
                  "isOptional": true
                },
                {
                  "name": "queryScope",
                  "value": {
                    "scope": 0,
                    "values": []
                  },
                  "isOptional": true
                }
              ],
              "type": "Extension/HubsExtension/PartType/ArgQueryGridTile",
              "settings": {},
              "filters": {
                "MsPortalFx_Subscription": {
                  "model": {
                    "operator": "equals",
                    "values": [
                      "TEMPLATE_SUBSCRIPTION_ID"
                    ]
                  }
                }
              },
              "partHeader": {
                "title": "Container Apps",
                "subtitle": "Azure Resource Graph"
              }
            }
          }
        ]
      }
    ],
    "metadata": {
      "model": {
        "timeRange": {
          "value": {
            "relative": {
              "duration": 24,
              "timeUnit": 1
            }
          },
          "type": "MsPortalFx.Composition.Configuration.ValueTypes.TimeRange"
        },
        "filterLocale": {
          "value": "en-us"
        },
        "filters": {
          "value": {
            "MsPortalFx_TimeRange": {
              "model": {
                "format": "utc",
                "granularity": "auto",
                "relative": "24h"
              },
              "displayCache": {
                "name": "UTC Time",
                "value": "Past 24 hours"
              },
              "filteredPartIds": [
                "StartboardPart-MonitorChartPart-aea51503-4127-4e43-b640-0f8ff3640036",
                "StartboardPart-MonitorChartPart-aea51503-4127-4e43-b640-0f8ff364001a",
                "StartboardPart-MonitorChartPart-aea51503-4127-4e43-b640-0f8ff364001c",
                "StartboardPart-MonitorChartPart-aea51503-4127-4e43-b640-0f8ff364001e",
                "StartboardPart-MonitorChartPart-aea51503-4127-4e43-b640-0f8ff3640020",
                "StartboardPart-MonitorChartPart-aea51503-4127-4e43-b640-0f8ff3640026",
                "StartboardPart-MonitorChartPart-aea51503-4127-4e43-b640-0f8ff3640028",
                "StartboardPart-MonitorChartPart-aea51503-4127-4e43-b640-0f8ff364002c",
                "StartboardPart-MonitorChartPart-aea51503-4127-4e43-b640-0f8ff3640038"
              ]
            }
          }
        }
      }
    }
  },
  "name": "TEMPLATE_DASHBOARD_NAME",
  "type": "Microsoft.Portal/dashboards",
  "location": "INSERT LOCATION",
  "tags": {
    "hidden-title": "TEMPLATE_DASHBOARD_TITLE"
  },
  "apiVersion": "2022-12-01-preview"
}